<?xml version="1.0" encoding="UTF-8"?>
<dataSource name="cafeby@localhost">
  <database-model serializer="dbm" rdbms="MYSQL" format-version="4.4">
    <root id="1"/>
    <schema id="2" parent="1" name="epamcafe">
      <Current>1</Current>
      <Visible>1</Visible>
    </schema>
    <schema id="3" parent="1" name="information_schema"/>
    <schema id="4" parent="1" name="mysql"/>
    <schema id="5" parent="1" name="performance_schema"/>
    <schema id="6" parent="1" name="sys"/>
    <table id="7" parent="2" name="account">
      <Comment>Данная таблица используется для хранения счетов Клиентов. Таблица может использоваться Администраторами для перевода средств на счет клиента, который по тем или иным причинам не смог забрать заказ или же отменил его. В этом случае, при небольшом колисчестве аккаунов и большом количетве клиентов операция будет выполняться быстрее.</Comment>
    </table>
    <table id="8" parent="2" name="admin">
      <Comment>Таблица для хренении информации об Администраторах.</Comment>
    </table>
    <table id="9" parent="2" name="client">
      <Comment>Данная таблица используется для хранения информации о Клиентах, зарегестрированных в системе.</Comment>
    </table>
    <table id="10" parent="2" name="order">
      <Comment>Таблица, использующаяся для хранения данных о заказе(кроме заказанных Продуктов).</Comment>
    </table>
    <table id="11" parent="2" name="orderproducts">
      <Comment>Таблица, содержащая информацию о всех заказаных Продуктах, и использующаяся для связи Перечня продуктов(таблица Menu) и всеми совершенными заказами Пользователями(таблица Order). Данная таблица явлется списком, для получения заказаных Продуктов по индификатору заказа.</Comment>
    </table>
    <table id="12" parent="2" name="product">
      <Comment>Таблица Меню содержит информацию о доступных продектах, блюдах для заказа Пользователем.</Comment>
    </table>
    <table id="13" parent="2" name="review">
      <Comment>Таблица, обеспечиваюшая механизм комментирования и оценки Заказа Клиентом.</Comment>
    </table>
    <table id="14" parent="2" name="staff"/>
    <column id="15" parent="7" name="accountNumber">
      <Position>1</Position>
      <Comment>Номер счета Клиента.</Comment>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="16" parent="7" name="accountCredit">
      <Position>2</Position>
      <Comment>Количество денег на счете.</Comment>
      <DataType>decimal(10,2)|0</DataType>
      <DefaultExpression>&apos;0.00&apos;</DefaultExpression>
    </column>
    <column id="17" parent="7" name="clientId">
      <Position>3</Position>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <index id="18" parent="7" name="accountNamber_UNIQUE">
      <ColNames>accountNumber</ColNames>
      <Unique>1</Unique>
    </index>
    <key id="19" parent="7" name="PRIMARY">
      <NameSurrogate>1</NameSurrogate>
      <ColNames>clientId</ColNames>
      <Primary>1</Primary>
    </key>
    <key id="20" parent="7" name="accountNamber_UNIQUE">
      <ColNames>accountNumber</ColNames>
      <UnderlyingIndexName>accountNamber_UNIQUE</UnderlyingIndexName>
    </key>
    <foreign-key id="21" parent="7" name="fk_account_client1">
      <ColNames>clientId</ColNames>
      <RefSchemaName>epamcafe</RefSchemaName>
      <RefTableName>client</RefTableName>
      <RefColNames>clientId</RefColNames>
      <OnUpdate>cascade</OnUpdate>
      <OnDelete>cascade</OnDelete>
    </foreign-key>
    <column id="22" parent="8" name="adminId">
      <Position>1</Position>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
      <SequenceIdentity>1</SequenceIdentity>
    </column>
    <column id="23" parent="8" name="adminLogin">
      <Position>2</Position>
      <Comment>Данный столбец хранит уникальные логины администраторов, для авторизации администраторов в системе.</Comment>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="24" parent="8" name="adminPassword">
      <Position>3</Position>
      <Comment>Пароль, использующийся для опеспечения безопасности доступа в систему.</Comment>
      <DataType>text|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="25" parent="8" name="isMain">
      <Position>4</Position>
      <DataType>tinyint(4)|0</DataType>
      <DefaultExpression>&apos;0&apos;</DefaultExpression>
    </column>
    <index id="26" parent="8" name="adminId_UNIQUE">
      <ColNames>adminId</ColNames>
      <Unique>1</Unique>
    </index>
    <index id="27" parent="8" name="adminLogin_UNIQUE">
      <ColNames>adminLogin</ColNames>
      <Unique>1</Unique>
    </index>
    <key id="28" parent="8" name="PRIMARY">
      <NameSurrogate>1</NameSurrogate>
      <ColNames>adminId</ColNames>
      <Primary>1</Primary>
    </key>
    <key id="29" parent="8" name="adminId_UNIQUE">
      <ColNames>adminId</ColNames>
      <UnderlyingIndexName>adminId_UNIQUE</UnderlyingIndexName>
    </key>
    <key id="30" parent="8" name="adminLogin_UNIQUE">
      <ColNames>adminLogin</ColNames>
      <UnderlyingIndexName>adminLogin_UNIQUE</UnderlyingIndexName>
    </key>
    <column id="31" parent="9" name="clientId">
      <Position>1</Position>
      <Comment>Уникальный номер(Синтетический ключ) Клиента, по которому он связывается с другими таблицами данной БД.</Comment>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
      <SequenceIdentity>1</SequenceIdentity>
    </column>
    <column id="32" parent="9" name="clientName">
      <Position>2</Position>
      <Comment>Имя Клиента.</Comment>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="33" parent="9" name="clientSurname">
      <Position>3</Position>
      <Comment>Фамилия Клиента.</Comment>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="34" parent="9" name="clientLogin">
      <Position>4</Position>
      <Comment>Уникальный индификатор Клиента, используемый для авторизации в системе.</Comment>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="35" parent="9" name="clientPassword">
      <Position>5</Position>
      <Comment>Пароль Клиента, используемый для обеспечения безопасного доступа в систему.</Comment>
      <DataType>text|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="36" parent="9" name="clientEmail">
      <Position>6</Position>
      <Comment>Email адресс, использующийся для регистрации клиента в системе, оповещения о каких-либо событиях, а так же для востановления пароля.</Comment>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="37" parent="9" name="clientStatus">
      <Position>7</Position>
      <Comment>Статус клиента в системе. Возможные статусы: Забанен, незабанен. Если на клиента наклыдавается бан, он не имеет возможности взаибодействовать с системой.</Comment>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="38" parent="9" name="clientPoint">
      <Position>8</Position>
      <Comment>Баллы Клиента, которые начисляются при заказе, используя данную систему. В случае если Клиент не забрал(оплатил) закаказ баллы снимаются, а клиент может быть заблокирован. Баллы могут использоваться в качестве бонусов(скидки).</Comment>
      <DataType>decimal(10,2)|0</DataType>
      <DefaultExpression>&apos;0.00&apos;</DefaultExpression>
    </column>
    <index id="39" parent="9" name="ClientLogin_UNIQUE">
      <ColNames>clientLogin</ColNames>
      <Unique>1</Unique>
    </index>
    <index id="40" parent="9" name="E-mail_UNIQUE">
      <ColNames>clientEmail</ColNames>
      <Unique>1</Unique>
    </index>
    <index id="41" parent="9" name="IdClient_UNIQUE">
      <ColNames>clientId</ColNames>
      <Unique>1</Unique>
    </index>
    <key id="42" parent="9" name="PRIMARY">
      <NameSurrogate>1</NameSurrogate>
      <ColNames>clientId</ColNames>
      <Primary>1</Primary>
    </key>
    <key id="43" parent="9" name="IdClient_UNIQUE">
      <ColNames>clientId</ColNames>
      <UnderlyingIndexName>IdClient_UNIQUE</UnderlyingIndexName>
    </key>
    <key id="44" parent="9" name="ClientLogin_UNIQUE">
      <ColNames>clientLogin</ColNames>
      <UnderlyingIndexName>ClientLogin_UNIQUE</UnderlyingIndexName>
    </key>
    <key id="45" parent="9" name="E-mail_UNIQUE">
      <ColNames>clientEmail</ColNames>
      <UnderlyingIndexName>E-mail_UNIQUE</UnderlyingIndexName>
    </key>
    <column id="46" parent="10" name="orderId">
      <Position>1</Position>
      <Comment>Уникальный номер заказа, использующийся для связи данной таблицы с другими.</Comment>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
      <SequenceIdentity>1</SequenceIdentity>
    </column>
    <column id="47" parent="10" name="orderDate">
      <Position>2</Position>
      <Comment>Время в которое заказ был доставлен.</Comment>
      <DataType>datetime|0</DataType>
    </column>
    <column id="48" parent="10" name="orderType">
      <Position>3</Position>
      <Comment>Статус заказа, используется для отслеживания прогресса доставки заказа в сиситеме.</Comment>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="49" parent="10" name="orderCost">
      <Position>4</Position>
      <Comment>Общая стоимость заказа.</Comment>
      <DataType>decimal(10,2)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="50" parent="10" name="clientId">
      <Position>5</Position>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <index id="51" parent="10" name="fk_order_client1_idx">
      <ColNames>clientId</ColNames>
    </index>
    <index id="52" parent="10" name="orderId_UNIQUE">
      <ColNames>orderId</ColNames>
      <Unique>1</Unique>
    </index>
    <key id="53" parent="10" name="PRIMARY">
      <NameSurrogate>1</NameSurrogate>
      <ColNames>orderId</ColNames>
      <Primary>1</Primary>
    </key>
    <key id="54" parent="10" name="orderId_UNIQUE">
      <ColNames>orderId</ColNames>
      <UnderlyingIndexName>orderId_UNIQUE</UnderlyingIndexName>
    </key>
    <foreign-key id="55" parent="10" name="fk_order_client1">
      <ColNames>clientId</ColNames>
      <RefSchemaName>epamcafe</RefSchemaName>
      <RefTableName>client</RefTableName>
      <RefColNames>clientId</RefColNames>
      <OnUpdate>cascade</OnUpdate>
      <OnDelete>cascade</OnDelete>
    </foreign-key>
    <column id="56" parent="11" name="productCount">
      <Position>1</Position>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="57" parent="11" name="productId">
      <Position>2</Position>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="58" parent="11" name="orderId">
      <Position>3</Position>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <index id="59" parent="11" name="fk_orderproducts_order1_idx">
      <ColNames>orderId</ColNames>
    </index>
    <index id="60" parent="11" name="fk_orderproducts_product1_idx">
      <ColNames>productId</ColNames>
    </index>
    <foreign-key id="61" parent="11" name="fk_orderproducts_product1">
      <ColNames>productId</ColNames>
      <RefSchemaName>epamcafe</RefSchemaName>
      <RefTableName>product</RefTableName>
      <RefColNames>productId</RefColNames>
      <OnUpdate>cascade</OnUpdate>
      <OnDelete>cascade</OnDelete>
    </foreign-key>
    <foreign-key id="62" parent="11" name="fk_orderproducts_order1">
      <ColNames>orderId</ColNames>
      <RefSchemaName>epamcafe</RefSchemaName>
      <RefTableName>order</RefTableName>
      <RefColNames>orderId</RefColNames>
      <OnUpdate>cascade</OnUpdate>
      <OnDelete>cascade</OnDelete>
    </foreign-key>
    <column id="63" parent="12" name="productId">
      <Position>1</Position>
      <Comment>Уникальный индификационный номер(Синтетический ключ) Продукта, использующийся для связи таблицы Меню с другими таблицами.</Comment>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
      <SequenceIdentity>1</SequenceIdentity>
    </column>
    <column id="64" parent="12" name="productType">
      <Position>2</Position>
      <Comment>Тип продука. Например, напиток, пицца...</Comment>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="65" parent="12" name="productNameRu">
      <Position>3</Position>
      <Comment>Название блюда.</Comment>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="66" parent="12" name="productWeight">
      <Position>4</Position>
      <Comment>Вес продукта.</Comment>
      <DataType>int(11)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="67" parent="12" name="productCost">
      <Position>5</Position>
      <Comment>Стоимость Продукта.</Comment>
      <DataType>decimal(10,2)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="68" parent="12" name="productDescriptionRu">
      <Position>6</Position>
      <Comment>Описание продукта. Состав.</Comment>
      <DataType>text|0</DataType>
    </column>
    <column id="69" parent="12" name="productImage">
      <Position>7</Position>
      <Comment>Путь для подгрузки изображения продукта.</Comment>
      <DataType>tinytext|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="70" parent="12" name="productNameEn">
      <Position>8</Position>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="71" parent="12" name="productDescriptionEn">
      <Position>9</Position>
      <DataType>text|0</DataType>
    </column>
    <index id="72" parent="12" name="menuId_UNIQUE">
      <ColNames>productId</ColNames>
      <Unique>1</Unique>
    </index>
    <index id="73" parent="12" name="productNameRu_UNIQUE">
      <ColNames>productNameRu</ColNames>
      <Unique>1</Unique>
    </index>
    <index id="74" parent="12" name="product_prioductNameEn_uindex">
      <ColNames>productNameEn</ColNames>
      <Unique>1</Unique>
    </index>
    <key id="75" parent="12" name="PRIMARY">
      <NameSurrogate>1</NameSurrogate>
      <ColNames>productId</ColNames>
      <Primary>1</Primary>
    </key>
    <key id="76" parent="12" name="menuId_UNIQUE">
      <ColNames>productId</ColNames>
      <UnderlyingIndexName>menuId_UNIQUE</UnderlyingIndexName>
    </key>
    <key id="77" parent="12" name="productNameRu_UNIQUE">
      <ColNames>productNameRu</ColNames>
      <UnderlyingIndexName>productNameRu_UNIQUE</UnderlyingIndexName>
    </key>
    <key id="78" parent="12" name="product_prioductNameEn_uindex">
      <ColNames>productNameEn</ColNames>
      <UnderlyingIndexName>product_prioductNameEn_uindex</UnderlyingIndexName>
    </key>
    <column id="79" parent="13" name="reviewId">
      <Position>1</Position>
      <Comment>Номер заказа, к которому относится комментарий.</Comment>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
      <SequenceIdentity>1</SequenceIdentity>
    </column>
    <column id="80" parent="13" name="reviewText">
      <Position>2</Position>
      <Comment>Отзыв клиента о заказе.</Comment>
      <DataType>text|0</DataType>
    </column>
    <column id="81" parent="13" name="reviewMark">
      <Position>3</Position>
      <Comment>Оценка Закакза Клиентом.</Comment>
      <DataType>decimal(3,2)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="82" parent="13" name="clientId">
      <Position>4</Position>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <index id="83" parent="13" name="fk_review_client1_idx">
      <ColNames>clientId</ColNames>
    </index>
    <index id="84" parent="13" name="fk_Review_Order1_idx">
      <ColNames>reviewId</ColNames>
      <Unique>1</Unique>
    </index>
    <key id="85" parent="13" name="PRIMARY">
      <NameSurrogate>1</NameSurrogate>
      <ColNames>reviewId</ColNames>
      <Primary>1</Primary>
    </key>
    <key id="86" parent="13" name="fk_Review_Order1_idx">
      <ColNames>reviewId</ColNames>
      <UnderlyingIndexName>fk_Review_Order1_idx</UnderlyingIndexName>
    </key>
    <foreign-key id="87" parent="13" name="fk_review_client1">
      <ColNames>clientId</ColNames>
      <RefSchemaName>epamcafe</RefSchemaName>
      <RefTableName>client</RefTableName>
      <RefColNames>clientId</RefColNames>
      <OnUpdate>cascade</OnUpdate>
      <OnDelete>cascade</OnDelete>
    </foreign-key>
    <column id="88" parent="14" name="staffId">
      <Position>1</Position>
      <DataType>int(11) unsigned|0</DataType>
      <NotNull>1</NotNull>
      <SequenceIdentity>1</SequenceIdentity>
    </column>
    <column id="89" parent="14" name="staffLogin">
      <Position>2</Position>
      <DataType>varchar(45)|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <column id="90" parent="14" name="staffPassword">
      <Position>3</Position>
      <DataType>text|0</DataType>
      <NotNull>1</NotNull>
    </column>
    <index id="91" parent="14" name="staff_staffId_uindex">
      <ColNames>staffId</ColNames>
      <Unique>1</Unique>
    </index>
    <index id="92" parent="14" name="staff_staffLogin_uindex">
      <ColNames>staffLogin</ColNames>
      <Unique>1</Unique>
    </index>
    <key id="93" parent="14" name="PRIMARY">
      <NameSurrogate>1</NameSurrogate>
      <ColNames>staffId</ColNames>
      <Primary>1</Primary>
    </key>
    <key id="94" parent="14" name="staff_staffId_uindex">
      <ColNames>staffId</ColNames>
      <UnderlyingIndexName>staff_staffId_uindex</UnderlyingIndexName>
    </key>
    <key id="95" parent="14" name="staff_staffLogin_uindex">
      <ColNames>staffLogin</ColNames>
      <UnderlyingIndexName>staff_staffLogin_uindex</UnderlyingIndexName>
    </key>
  </database-model>
</dataSource>